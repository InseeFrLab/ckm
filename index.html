<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R package for applying the Cell Key Method • ckm</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R package for applying the Cell Key Method">
<meta name="description" content="The package implements the Cell Key Method to protect tabular data and provides tools to choose the best parameters to ensure the balance between data utility and privacy protection. The Cell Key Method is a method for protecting sensitive data in tabular form by applying random keys to cells.">
<meta property="og:description" content="The package implements the Cell Key Method to protect tabular data and provides tools to choose the best parameters to ensure the balance between data utility and privacy protection. The Cell Key Method is a method for protecting sensitive data in tabular form by applying random keys to cells.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ckm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Package Contents</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/quickstart-ckm.html">Quick Start: Applying the Cell Key Method</a></li>
    <li><a class="dropdown-item" href="articles/using-ckm-package.html">Applying the Cell Key Method with the `ckm` package</a></li>
    <li><a class="dropdown-item" href="articles/utiliser-ckm.html">Appliquer la méthode des clés aléatoires</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/inseefrlab/ckm" aria-label="GitHub"><span class="fa fa-github"></span> Source Code</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="applying-the-cell-key-method">Applying the Cell Key Method<a class="anchor" aria-label="anchor" href="#applying-the-cell-key-method"></a>
</h1></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The Cell Key Method (CKM) is a statistical technique used to protect the confidentiality of tabular data by perturbating all cells in it. This package provides tools to apply the CKM in <code>R</code>, enabling users to select the best set of parameters and to generate perturbed counting tables from microdata.</p>
<p>For more information on the Cell Key Method, you can refer to the chapter 5.4 of the <a href="https://sdctools.github.io/HandbookSDC/05-frequency-tables.html#sec-CKM_freq" class="external-link">Handbook on Statistical Disclsoure Control</a>.</p>
<p>The package is designed to perturb only frequency tables only for the moment.</p>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p>For detailed documentation, please refer to the <a href="https://inseefrlab.github.io/ckm/articles/quickstart-ckm.html">package vignette</a>.</p>
<p>The transition matrices are built using the <a href="https://cran.r-project.org/web/packages/ptable/index.html" class="external-link"><code>ptable</code></a> package.</p>
<p>For French readers, you can also refer to a <a href="https://www.insee.fr/fr/statistiques/fichier/2838097/12-fiche_methodologique_ckm.pdf" class="external-link">methdological document</a> for more information on the Cell Key Method.</p>
</div>
<div class="section level2">
<h2 id="package-installation">Package Installation<a class="anchor" aria-label="anchor" href="#package-installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"inseefrlab/ckm"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="applying-the-cell-key-method-step-by-step">Applying the Cell Key Method Step by Step<a class="anchor" aria-label="anchor" href="#applying-the-cell-key-method-step-by-step"></a>
</h2>
<div class="section level3">
<h3 id="assigning-a-random-key-to-the-microdata">Assigning a Random Key to the Microdata<a class="anchor" aria-label="anchor" href="#assigning-a-random-key-to-the-microdata"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/InseeFrLab/ckm" class="external-link">ckm</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dtest"</span>, package <span class="op">=</span> <span class="st">"ckm"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">4081789</span><span class="op">)</span> <span class="co"># Ensure reproducibility</span></span>
<span><span class="va">dtest_with_keys</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/build_individual_keys.html">build_individual_keys</a></span><span class="op">(</span><span class="va">dtest</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">dtest_with_keys</span><span class="op">$</span><span class="va">rkey</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="generating-the-counting-table-with-cell-keys">Generating the Counting Table with Cell Keys<a class="anchor" aria-label="anchor" href="#generating-the-counting-table-with-cell-keys"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab_before</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tabulate_cnt_micro_data.html">tabulate_cnt_micro_data</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">dtest_with_keys</span>,</span>
<span>  cat_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DIPLOME"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE"</span><span class="op">)</span>,</span>
<span>  hrc_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>GEO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"REG"</span>, <span class="st">"DEP"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  marge_label <span class="op">=</span> <span class="st">"Total"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="applying-the-perturbation">Applying the Perturbation<a class="anchor" aria-label="anchor" href="#applying-the-perturbation"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_ckm</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/apply_ckm.html">apply_ckm</a></span><span class="op">(</span><span class="va">tab_before</span>, D <span class="op">=</span> <span class="fl">5</span>, V <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="applying-the-cell-key-method-in-one-step">Applying the Cell Key Method in One Step<a class="anchor" aria-label="anchor" href="#applying-the-cell-key-method-in-one-step"></a>
</h2>
<p>After generating the individual key on your dataset, you can directly build the perturbed table:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_ckm</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tabulate_and_apply_ckm.html">tabulate_and_apply_ckm</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">dtest_with_keys</span>,</span>
<span>  cat_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DIPLOME"</span>, <span class="st">"SEXE"</span>, <span class="st">"AGE"</span><span class="op">)</span>,</span>
<span>  hrc_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>GEO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"REG"</span>, <span class="st">"DEP"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  marge_label <span class="op">=</span> <span class="st">"Total"</span>,</span>
<span>  D <span class="op">=</span> <span class="fl">5</span>, V <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/InseeFrLab/ckm/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/InseeFrLab/ckm/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ckm</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Julien Jamme <br><small class="roles"> Author, maintainer </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-green.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://gitlab.insee.fr/outilsconfidentialite/ckm/-/blob/main/DESCRIPTION" class="external-link"><img src="https://img.shields.io/badge/R%3E%3D-3.5-blue.svg" alt="minimum R version"></a></li>
<li><a href="https://cran.r-project.org/package=ckm" class="external-link"><img src="https://www.r-pkg.org/badges/version/ckm" alt="CRAN status"></a></li>
<li><a href="https://github.com/InseeFrLab/ckm/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/InseeFrLab/ckm/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Julien Jamme.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
