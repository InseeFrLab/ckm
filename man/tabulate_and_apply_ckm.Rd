% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tabuler_et_appliquer_ckm.R
\name{tabulate_and_apply_ckm}
\alias{tabulate_and_apply_ckm}
\title{Build table and apply Cell Key Method}
\usage{
tabulate_and_apply_ckm(
  df,
  rk_var = "rkey",
  cat_vars = NULL,
  hrc_vars = NULL,
  num_var = NULL,
  marge_label = "Total",
  D,
  V,
  js = 0,
  I = NULL,
  J = NULL,
  ...
)
}
\arguments{
\item{df}{data.frame. Input microdata}

\item{rk_var}{Character. Individual key variable (NULL for no keys)}

\item{cat_vars}{Character vector. Categorical variables}

\item{hrc_vars}{Named list. Hierarchical variables}

\item{num_var}{Character. Numerical variable to aggregate}

\item{marge_label}{Character. Margin label (default: "Total")}

\item{D}{integer. Deviation parameter (must be strictly positive)}

\item{V}{numeric. Noise variance (must be strictly positive)}

\item{js}{integer. Threshold for sensitive values (default: 0). If js=0, only value 0 will be forbidden}

\item{I}{integer vector. Original values to consider}

\item{J}{integer vector. Perturbed values to consider}

\item{...}{Additional parameters passed to transition matrix creation}
}
\value{
A list containing the perturbed table and transition matrix
}
\description{
This function constructs a contingency table from microdata and applies
the Cell Key Method for statistical disclosure control.
}
\examples{
\dontrun{
data("dtest")
set.seed(123)
dtest_avec_cles <- build_individual_keys(dtest)

res_ckm <- tabulate_and_apply_ckm(
  df = dtest_avec_cles,
  cat_vars = c("DIPLOME", "SEXE", "AGE"),
  hrc_vars = list(GEO = c("REG", "DEP")),
  marge_label = "Total",
  D = 10, V = 15, js = 4
)
}
}
